<%- include('partials/log_header') -%>
<h3>THIS IS A profile PAGE</h3>
<section class="py-5 text-center container">
  <div class="col-lg-6 col-md-8 mx-auto">
    <h1>Edit Your Profile <%= user.userName %></h1>
    <img id="avatar" src="<%= user.avatar ? user.avatar : "/imgs/avatar.webp" %>"  class="rounded-circle justify-content-center" style="width: 150px;"alt="Profile Image" />
    <form id='avatarForm' action="/uploadAvatar" enctype="multipart/form-data" method="POST" >
      <input id="imageFile" type="file" name="avatar" />
      <button type="submit" class="btn btn-primary" value="Upload">Save</button>
  </form>
    <form id='profileForm' method="POST" action="/profile/edit/<%= user._id %>?_method=PUT" enctype="application/x-www-form-urlencoded" >
        <div class="mb-3">
          <label for="exampleInputFirstName" class="form-label">First Name</label>
          <input type="firstName" class="form-control" id="exampleInputFirstName" name="firstName" placeholder="<%= user.firstName %>"/>
        </div>
        <div class="mb-3">
          <label for="exampleInputLastName" class="form-label">Last Name</label>
          <input type="lastName" class="form-control" id="exampleInputLastName" name="lastName" placeholder="<%= user.lastName %>"/>
        </div>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" name="email" placeholder="<%= user.email %>"/>
        </div>
        <div class="mb-3">
          <label for="exampleInputBio class="form-label">Quick Bio</label>
          <textarea rows="4" cols="80" class="form-control" id="exampleInputBio" name="bio" placeholder="<%= user.bio %>"></textarea>
        </div>
        <p><button type="submit" class="btn btn-primary">Update</button></p>
    </form>
  </div>
</section>

<script src="/js/avatar.js" type="text/javascript"></script>